import{c as v,aw as M,a as h,r as R,av as $,b as z,l as y,e as r,w as k,f as e,g as u,t as i,u as s,d as c,h as p,F as w,i as C,A as P,G as T,af as G,B as H,ax as D,ar as I,ag as Q}from"./app-z53oRgF3.js";import{o as l,_ as q,a as J}from"./SearchField-aqbb-DsQ.js";import{_ as K}from"./PageLayout-nX6T9sgz.js";import{P as W}from"./ProductsShowSkeleton-uxsipr7j.js";import"./index.esm-BUtP4dr2.js";const X={class:"flex justify-between items-stretch flex-wrap min-h-[70px] pb-6 text-accent"},Y={class:"flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"},Z={class:"mr-3 font-semibold text-dark"},ee={class:"flex-auto block text-accent"},te={class:"overflow-x-auto"},se={class:"w-full my-0 align-middle text-dark border-neutral-200"},ae={key:0,class:"font-bold text-xl my-6"},oe={key:2,class:"border-b border-neutral-200 ont-bold text-xl my-6"},ne={class:"border-b border-dashed last:border-b-0 border-main"},le={class:"p-3"},re={class:"flex items-center"},ie={class:"flex flex-col justify-start w-full"},de={class:"mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-blue-500"},ce=["onUpdate:modelValue","onChange"],ue=["value"],pe={class:"p-3 text-start"},me={class:"relative"},xe=["onUpdate:modelValue","onChange"],ge={class:"p-3 text-start"},he={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},_e={class:"p-3 text-start"},be={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},fe={class:"p-3 text-start"},ve={class:"flex items-center gap-2"},ye=["disabled","onClick"],ke={class:"flex items-center justify-center p-0 m-0 leading-none shrink-0"},Ee={__name:"Orders",setup(we){const _=v({get:()=>l.value.search,set:n=>{l.value.search=n,x()}}),U=v({get:()=>l.value.page,set:n=>{l.value.page=n,x()}}),{data:d,error:b,isError:V,isLoading:m,isPreviousData:A,isFetching:E,refetch:F}=h("orders").useGet(l),{mutate:O}=h("orders").useUpdate(),{mutate:j,isLoading:B}=h("orders").useDelete(),f=async(n,a,g)=>{const t={...n,[a]:g};O({id:n.id,data:t})},S=async n=>{j(n)},L=(n,a)=>{a==="increment"&&!A?l.value.page=l.value.page+1:a==="decrement"?l.value.page=Math.max(l.value.page-1,1):(l.value.page=n,x())},N=R([{title:"Home",link:"/"},{title:"Products",current:!0,link:"/products"}]),[Ce,Pe]=$(),x=M(()=>{F()},300);return(n,a)=>{const g=z("router-link");return r(),y(K,{data:N.value,title:"Orders"},{default:k(()=>[e("div",X,[e("h3",Y,[e("span",Z,"All Orders ("+i(s(d)?.meta.total)+")",1),a[1]||(a[1]=e("span",{class:"mt-1 font-medium text-gray text-lg/normal"},"Exlusive from Piepjackclothing",-1))]),u(q,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=t=>_.value=t),placeholder:"Order #"},null,8,["modelValue"])]),e("div",ee,[e("div",te,[e("table",se,[a[3]||(a[3]=e("thead",{class:"align-bottom"},[e("tr",{class:"font-semibold text-[0.95rem] text-gray"},[e("th",{class:"pb-3 px-1 text-start uppercase"},"ID"),e("th",{class:"pb-3 px-1 text-start uppercase"},"NUMBER"),e("th",{class:"pb-3 px-1 text-start uppercase min-w-[120px]"}," STATUS "),e("th",{class:"pb-3 px-1 text-start uppercase"},"TOTAL"),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," CREATED AT "),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," UPDATE AT ")])],-1)),e("tbody",null,[!s(d)?.data.length&&!s(m)&&!s(V)?(r(),c("tr",ae," No Orders Found ")):p("",!0),s(m)?(r(),y(W,{key:1})):p("",!0),s(b)?(r(),c("tr",oe,i(s(b)),1)):p("",!0),!s(m)&&s(d)?.data?(r(!0),c(w,{key:3},C(s(d)?.data,t=>(r(),c("tr",ne,[e("td",null,i(t.id),1),e("td",null,i(t.order_number),1),e("td",le,[e("div",re,[e("div",ie,[e("span",de,[P(e("select",{"onUpdate:modelValue":o=>t.status=o,id:"status",class:T([["font-bold",t.status==="paid"?"text-green-500":t.status==="pending"?"text-yellow-700":"text-red-500"],"mt-1 block w-full p-2 border border-gray rounded-md focus:outline-none focus:ring focus:ring-accent_dark"]),onChange:o=>f(t,"status",o.target.value)},[(r(!0),c(w,null,C(s(d)?.meta.statuses,o=>(r(),c("option",{key:o,class:T(["font-bold",o==="paid"?"text-green-500":o==="pending"?"text-yellow-700":"text-red-500"]),value:o},i(o),11,ue))),128))],42,ce),[[G,t.status]])])])])]),e("td",pe,[e("div",me,[P(e("input",{type:"number",class:"border rounded p-2 font-bold pl-6 pr-2","onUpdate:modelValue":o=>t.total_price=o,step:"1",min:"0",onChange:o=>f(t,"total_price",parseFloat(o.target.value)),placeholder:"Enter total price"},null,40,xe),[[H,t.total_price]]),a[2]||(a[2]=e("span",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 text-xl"},"â‚¬",-1))])]),e("td",ge,[e("span",he,i(s(D)(t.created_at)),1)]),e("td",_e,[e("span",be,i(s(D)(t.updated_at)),1)]),e("td",fe,[e("div",ve,[e("button",{disabled:s(B),class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-red-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none border-0 justify-center",onClick:()=>S(t.id)},[u(s(I),{size:"16","stroke-width":"1.5"})],8,ye),e("button",null,[u(g,{class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-blue-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none border-0 justify-center",to:`/admin/orders/${t.id}`},{default:k(()=>[e("span",ke,[u(s(Q),{size:"16","stroke-width":"1.5"})])]),_:2},1032,["to"])])])])]))),256)):p("",!0)])]),u(J,{currentPage:U.value,totalPages:s(d)?.meta.last_page??1,isFetching:s(E),onPageChanged:L},null,8,["currentPage","totalPages","isFetching"])])])]),_:1},8,["data"])}}};export{Ee as default};
