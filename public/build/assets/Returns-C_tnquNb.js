import{c as v,aw as q,a as h,r as B,av as L,b as z,l as k,e as r,w as f,f as e,g as c,t as d,u as s,d as u,h as x,F as y,i as w,k as G,A as I,G as P,af as M,ax as R,ar as O,ag as H}from"./app-qWsV0RSm.js";import{r as n,_ as Q,a as J}from"./SearchField-Cx49I-mJ.js";import{_ as K}from"./PageLayout-Cljs1wtN.js";import{P as W}from"./ProductsShowSkeleton-1vWmwEj-.js";import"./index.esm-BXZReHFM.js";const X={class:"flex justify-between items-stretch flex-wrap min-h-[70px] pb-6 text-accent"},Y={class:"flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"},Z={class:"mr-3 font-semibold text-dark"},ee={class:"flex-auto block text-accent"},te={class:"overflow-x-auto"},se={class:"w-full my-0 align-middle text-dark border-neutral-200"},ae={key:0,class:"font-bold text-xl my-6"},oe={key:2,class:"border-b border-neutral-200 ont-bold text-xl my-6"},le={class:"border-b border-dashed last:border-b-0 border-main"},ne={class:"underline text-blue-400"},re={class:"p-3"},de={class:"flex items-center"},ie={class:"flex flex-col justify-start w-full"},ce={class:"mb-1 font-semibold transition-colors duration-200 ease-in-out text-lg/normal text-secondary-inverse hover:text-blue-500"},ue=["onUpdate:modelValue","onChange"],me=["value"],xe={class:"p-3 text-start text-sm text-pretty"},pe={class:"p-3 text-start"},_e={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},he={class:"p-3 text-start"},fe={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},be={class:"p-3 text-start"},ge={class:"flex items-center gap-2"},ve=["disabled","onClick"],ke={class:"flex items-center justify-center p-0 m-0 leading-none shrink-0"},Ae={__name:"Returns",setup(ye){const b=v({get:()=>n.value.search,set:a=>{n.value.search=a,_()}}),C=v({get:()=>n.value.page,set:a=>{n.value.page=a,_()}}),{data:i,error:g,isError:D,isLoading:p,isPreviousData:T,isFetching:V,refetch:A}=h("returns").useGet(n),{mutate:E}=h("returns").useUpdate(),{mutate:j,isLoading:F}=h("returns").useDelete(),S=async(a,o,m)=>{const t={...a,[o]:m};E({id:a.id,data:t})},U=async a=>{j(a)},N=(a,o)=>{o==="increment"&&!T?n.value.page=n.value.page+1:o==="decrement"?n.value.page=Math.max(n.value.page-1,1):(n.value.page=a,_())},$=B([{title:"Home",link:"/"},{title:"Products",current:!0,link:"/products"}]),[we,Pe]=L(),_=q(()=>{A()},300);return(a,o)=>{const m=z("router-link");return r(),k(K,{data:$.value,title:"Return"},{default:f(()=>[e("div",X,[e("h3",Y,[e("span",Z,"All Returns ("+d(s(i)?.meta.total)+")",1),o[1]||(o[1]=e("span",{class:"mt-1 font-medium text-gray text-lg/normal"},"Exlusive from Piepjackclothing",-1))]),c(Q,{modelValue:b.value,"onUpdate:modelValue":o[0]||(o[0]=t=>b.value=t),placeholder:"Return #"},null,8,["modelValue"])]),e("div",ee,[e("div",te,[e("table",se,[o[2]||(o[2]=e("thead",{class:"align-bottom"},[e("tr",{class:"font-semibold text-[0.95rem] text-gray"},[e("th",{class:"pb-3 px-1 text-start uppercase"},"ID"),e("th",{class:"pb-3 px-1 text-start uppercase"},"ORDER ID"),e("th",{class:"pb-3 px-1 text-start uppercase min-w-[120px]"}," STATUS "),e("th",{class:"pb-3 px-1 text-start uppercase"},"REASON"),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," CREATED AT "),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," UPDATE AT ")])],-1)),e("tbody",null,[!s(i)?.data.length&&!s(p)&&!s(D)?(r(),u("tr",ae," No Returns Found ")):x("",!0),s(p)?(r(),k(W,{key:1})):x("",!0),s(g)?(r(),u("tr",oe,d(s(g)),1)):x("",!0),!s(p)&&s(i)?.data?(r(!0),u(y,{key:3},w(s(i)?.data,t=>(r(),u("tr",le,[e("td",null,d(t.id),1),e("td",ne,[c(m,{to:`/admin/orders/${t.order_id}`},{default:f(()=>[G(" # "+d(t.order_id),1)]),_:2},1032,["to"])]),e("td",re,[e("div",de,[e("div",ie,[e("span",ce,[I(e("select",{"onUpdate:modelValue":l=>t.status=l,id:"status",class:P([["font-bold",t.status==="not_requested"?"text-green-500":t.status==="requested"?"text-yellow-700":t.status==="approved"?"text-fuchsia-500":"text-red-500"],"mt-1 block w-full p-2 border border-gray rounded-md focus:outline-none focus:ring focus:ring-accent_dark"]),onChange:l=>S(t,"status",l.target.value)},[(r(!0),u(y,null,w(s(i)?.meta.statuses,l=>(r(),u("option",{key:l,class:P(["font-bold",l==="not_requested"?"text-green-500":l==="requested"?"text-yellow-700":l==="approved"?"text-fuchsia-500":"text-red-500"]),value:l},d(l),11,me))),128))],42,ue),[[M,t.status]])])])])]),e("td",xe,d(t.reason),1),e("td",pe,[e("span",_e,d(s(R)(t.created_at)),1)]),e("td",he,[e("span",fe,d(s(R)(t.updated_at)),1)]),e("td",be,[e("div",ge,[e("button",{disabled:s(F),class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-red-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none breturning-0 justify-center",onClick:()=>U(t.id)},[c(s(O),{size:"16","stroke-width":"1.5"})],8,ve),e("button",null,[c(m,{class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-blue-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none border-0 justify-center",to:`/orders/${t.order_id}`},{default:f(()=>[e("span",ke,[c(s(H),{size:"16","stroke-width":"1.5"})])]),_:2},1032,["to"])])])])]))),256)):x("",!0)])]),c(J,{currentPage:C.value,totalPages:s(i)?.meta.last_page??1,isFetching:s(V),onPageChanged:N},null,8,["currentPage","totalPages","isFetching"])])])]),_:1},8,["data"])}}};export{Ae as default};
