import{c as g,aw as j,a as _,r as L,av as $,b as B,l as b,e as l,w as f,f as e,g as r,t as i,u as t,d,h as u,F as N,i as I,ax as v,ar as R,ag as S}from"./app-DCo35FOi.js";import{u as a,_ as z,a as M}from"./SearchField-BoA9wSoT.js";import{_ as G}from"./PageLayout-Cv37-oPc.js";import{_ as H}from"./ToggleSwitch-CNzi0B6_.js";import{P as Q}from"./ProductsShowSkeleton-CnM6-Ihg.js";import"./index.esm-DGtFqXNV.js";const q={class:"flex justify-between items-stretch flex-wrap min-h-[70px] pb-6 text-accent"},J={class:"flex flex-col items-start justify-center m-2 ml-0 font-medium text-xl/tight text-dark"},K={class:"mr-3 font-semibold text-dark"},O={class:"flex-auto block text-accent"},W={class:"overflow-x-auto"},X={class:"w-full my-0 align-middle text-dark buser-neutral-200"},Y={key:0,class:"font-bold text-xl my-6"},Z={key:2,class:"buser-b buser-neutral-200 ont-bold text-xl my-6"},ee={class:"buser-b buser-dashed last:buser-b-0 buser-main"},te={class:"p-3 text-start"},se={class:"p-3"},ae={class:"p-3 text-start"},oe={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},ne={class:"p-3 text-start"},le={class:"text-xs text-center align-baseline inline-flex p-3 mr-auto items-center font-semibold text-[.95rem] leading-none text-blue-500 bg-blue-500/20 rounded-lg"},re={class:"p-3 text-start"},ie={class:"flex items-center gap-2"},ce=["disabled","onClick"],de={class:"flex items-center justify-center p-0 m-0 leading-none shrink-0"},ve={__name:"Users",setup(ue){const x=g({get:()=>a.value.search,set:n=>{a.value.search=n,p()}}),k=g({get:()=>a.value.page,set:n=>{a.value.page=n,p()}}),{data:c,error:h,isError:w,isLoading:m,isPreviousData:y,isFetching:P,refetch:D}=_("customers").useGet(a),{mutate:V,isLoading:C}=_("customers").useDelete(),E=async n=>{confirm("Are you sure you want to delete this user?")&&V(n)},U=(n,o)=>{o==="increment"&&!y?a.value.page=a.value.page+1:o==="decrement"?a.value.page=Math.max(a.value.page-1,1):(a.value.page=n,p())},A=L([{title:"Home",link:"/"},{title:"Users",current:!0,link:"/users"}]),[me,pe]=$(),p=j(()=>{D()},300);return(n,o)=>{const T=B("router-link");return l(),b(G,{data:A.value,title:"Users"},{default:f(()=>[e("div",q,[e("h3",J,[e("span",K,"All Users ("+i(t(c)?.meta.total)+")",1),o[1]||(o[1]=e("span",{class:"mt-1 font-medium text-gray text-lg/normal"},"Exlusive from Piepjackclothing",-1))]),r(z,{modelValue:x.value,"onUpdate:modelValue":o[0]||(o[0]=s=>x.value=s),placeholder:"Email"},null,8,["modelValue"])]),e("div",O,[e("div",W,[e("table",X,[o[2]||(o[2]=e("thead",{class:"align-bottom"},[e("tr",{class:"font-semibold text-[0.95rem] text-gray"},[e("th",{class:"pb-3 px-1 text-start uppercase"},"ID"),e("th",{class:"pb-3 px-1 text-start uppercase"},"EMAIL"),e("th",{class:"pb-3 px-1 text-start min-w-[50px] uppercase"}," ACTIVE "),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," CREATED AT "),e("th",{class:"pb-3 px-1 text-start min-w-[150px] uppercase"}," UPDATED AT ")])],-1)),e("tbody",null,[!t(c)?.data.length&&!t(m)&&!t(w)?(l(),d("tr",Y," No Data Found ")):u("",!0),t(m)?(l(),b(Q,{key:1})):u("",!0),t(h)?(l(),d("tr",Z,i(t(h)),1)):u("",!0),!t(m)&&t(c)?.data?(l(!0),d(N,{key:3},I(t(c)?.data,s=>(l(),d("tr",ee,[e("td",null,i(s.id),1),e("td",te,i(s.email),1),e("td",se,[r(H,{modelValue:s.active,"onUpdate:modelValue":F=>s.active=F},null,8,["modelValue","onUpdate:modelValue"])]),e("td",ae,[e("span",oe,i(t(v)(s.created_at)),1)]),e("td",ne,[e("span",le,i(t(v)(s.updated_at)),1)]),e("td",re,[e("div",ie,[e("button",{disabled:t(C),class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-red-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none buser-0 justify-center",onClick:()=>E(s.id)},[r(t(R),{size:"16","stroke-width":"1.5"})],8,ce),e("button",null,[r(T,{class:"ml-auto relative text-main bg-accent hover:text-white hover:bg-blue-500 flex items-center h-[30px] w-[30px] text-base font-medium leading-normal text-center align-middle cursor-pointer rounded-2xl transition-colors duration-200 ease-in-out shadow-none buser-0 justify-center",to:`/admin/users/${s.id}`},{default:f(()=>[e("span",de,[r(t(S),{size:"16","stroke-width":"1.5"})])]),_:2},1032,["to"])])])])]))),256)):u("",!0)])]),r(M,{currentPage:k.value,totalPages:t(c)?.meta.last_page??1,isFetching:t(P),onPageChanged:U},null,8,["currentPage","totalPages","isFetching"])])])]),_:1},8,["data"])}}};export{ve as default};
